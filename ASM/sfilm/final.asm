
; Final de la pelicula

FINPELI     CALL    CLS
            
            LD      IX,TXTSOL 
            LD      DE,IMGSOL
            CALL    IMPRE5
            
            LD      IX,TXTJACA
            LD      DE,IMGJACA
            CALL    IMPRE5
            
            CALL    CHARS1  
          
            LD      HL,EX2      ; E ampliada
            CALL    IMPREX2
            
            LD      HL,TEXTOFIN
            CALL    IMPREFIN
            
            LD      HL,TONII    ; como set de caracteres
            DEC     H           ; las caras del pijama
            LD      (23606),HL
            
            LD      HL,CARASFIN
            CALL    IMPREX2     ; 24861 Caras ampliadas
            
            CALL    POKSET
            
            LD      A,1         ; pokeamos IMPREFIN
            LD      (IMPREFIN+1),A
            LD      HL,RESETEA 
            CALL    IMPREFIN           

BUFIN       HALT    
            JR      BUFIN       ; BUCLE SIN FIN FINAL


; 25156 print especial

IMPREFIN    LD      A,2
            PUSH    HL
            CALL    5633
            POP     HL
BUCIMPREX   LD      A,(HL)
            CP      255
            RET     Z
            
            INC     HL
            PUSH    HL
            RST     16
            POP     HL
            PUSH    HL
            LD      HL,1
            LD      DE,10
            CALL    $3B5
            LD      B,3
ESPERA1     HALT    
            DJNZ    ESPERA1
            POP     HL
            JR      BUCIMPREX
            
; E AMPLIADA            
EX2         DEFB    $16,$0B,$00,$13,$00,$11,$01,$7A
            DEFB    $7C,$16,$0C,$00,$13,$01,$7B,$7D
            DEFB    255    

TXTSOL      DEFB    2,10,0,18,0 ; 2x10 x9 = 180 bytes 

TXTJACA     DEFB    8,10,0,0,0  ; 8x10 x9 = 720 bytes

RESETEA     DEFB    $16,$01,$04,$10,$06,$13,$01
            DEFM    'RESETEA Y CARGA EL JUEGO'
            DEFB    255
            
CARASFIN    DEFB 22,19,2,16,7,17,0,19,0
            DEFB 33,34,35,57,57,57,45,46,47
            DEFB 57,57,57,57,58,59,57,57,57
            DEFB 69,70,71,57,57,57,81,82,83
            DEFB 22,20,2,37,38,39,57,57,57
            DEFB 49,50,51,57,57,57,61,62,63
            DEFB 57,57,57,73,74,75,57,57,57
            DEFB 85,86,87,22,21,2,41,42,43
            DEFB 57,57,57,53,54,55,57,57,57
            DEFB 65,66,67,57,57,57,77,78,79
            DEFB 57,57,57,89,90,91,255,62,1
            DEFB 50,69,98,33,251,132,205,68,98
            DEFB 201,22,1,4,16,6,19,1,82
            DEFB 69,83,69,84,69,65,32,89,32
            DEFB 67,65,82,71,65,32,69,76,32
            DEFB 74,85,69,71,79,255
		
; 33010 8x10 x9 = 720 bytes
IMGJACA DEFB 0,0,0,0,0,0,0,0,7
		DEFB 0,0,0,0,0,0,0,0,4
		DEFB 31,63,63,127,127,112,240,241,68
		DEFB 227,227,227,71,71,7,3,3,4
		DEFB 3,1,0,0,1,1,1,3,4
		DEFB 7,7,7,3,3,3,1,1,4
		DEFB 1,0,0,0,0,0,1,1,4
		DEFB 1,0,0,0,7,159,47,135,4
		DEFB 0,0,0,0,0,0,0,0,7
		DEFB 0,0,0,0,0,0,0,0,4
		DEFB 224,80,232,244,236,244,236,244,68
		DEFB 232,216,176,208,176,208,232,200,68
		DEFB 232,216,232,216,241,211,167,231,4
		DEFB 175,239,175,215,247,219,239,255,68
		DEFB 255,255,255,255,127,127,191,206,68
		DEFB 240,224,208,224,209,234,209,242,4
		DEFB 0,0,0,0,0,0,0,0,7
		DEFB 0,0,0,0,0,1,1,1,4
		DEFB 3,5,5,13,9,2,2,0,6
		DEFB 0,0,0,0,0,0,0,0,7
		DEFB 0,0,14,127,255,255,255,255,68
		DEFB 255,255,255,255,255,247,246,251,68
		DEFB 252,255,253,254,253,254,85,170,68
		DEFB 0,0,0,0,0,72,108,169,68
		DEFB 0,0,0,0,0,0,0,0,6
		DEFB 13,58,103,114,205,220,188,183,70
		DEFB 183,238,170,108,218,203,59,51,6
		DEFB 63,63,31,31,15,7,7,15,4
		DEFB 15,31,63,191,255,255,255,251,68
		DEFB 61,141,229,251,251,251,253,125,68
		DEFB 124,191,63,223,93,186,60,122,4
		DEFB 124,248,244,251,253,255,255,127,4
		DEFB 0,0,0,0,0,0,0,0,7
		DEFB 224,224,88,167,239,223,103,215,68
		DEFB 215,247,183,151,222,220,180,116,68
		DEFB 164,100,180,210,170,218,234,218,68
		DEFB 234,218,234,250,226,210,226,210,68
		DEFB 178,210,162,98,161,65,192,64,4
		DEFB 192,64,128,0,0,0,0,0,68
		DEFB 0,0,0,0,192,241,250,149,4
		DEFB 0,0,0,0,0,0,0,0,7
		DEFB 0,0,0,0,128,192,128,192,4
		DEFB 195,135,143,13,31,62,127,127,6
		DEFB 255,254,252,248,240,224,240,240,6
		DEFB 120,120,124,62,62,28,8,8,6
		DEFB 8,24,16,16,16,160,160,224,6
		DEFB 0,0,0,0,1,1,1,1,5
		DEFB 1,1,1,2,3,87,171,85,5
		DEFB 0,20,83,105,111,85,66,182,6
		DEFB 203,213,138,101,109,61,63,31,6
		DEFB 239,255,255,255,253,255,127,125,6
		DEFB 127,127,127,125,127,63,63,61,6
		DEFB 31,95,119,87,106,55,42,53,3
		DEFB 88,112,112,112,112,112,112,96,6
		DEFB 80,104,216,224,192,224,208,224,6
		DEFB 208,224,208,232,252,252,253,154,5
		DEFB 0,192,96,32,160,80,152,200,70
		DEFB 88,40,208,176,80,176,96,216,70
		DEFB 191,234,245,254,255,254,255,255,6
		DEFB 247,251,251,249,240,240,240,224,6
		DEFB 160,224,240,80,168,80,176,248,67
		DEFB 120,52,60,20,28,20,26,22,6
		DEFB 26,12,14,29,31,29,30,29,6
		DEFB 30,31,31,47,63,191,95,191,5
		DEFB 0,0,0,0,0,0,0,0,7
		DEFB 0,0,0,0,0,0,0,0,70
		DEFB 0,128,128,192,64,192,96,160,70
		DEFB 224,176,208,232,248,232,124,124,70
		DEFB 62,63,31,31,15,0,0,0,70
		DEFB 0,0,0,1,1,1,3,3,71
		DEFB 3,2,6,6,6,12,140,140,71
		DEFB 140,152,152,80,208,197,170,81,71
		DEFB 0,0,0,0,0,0,0,0,7
		DEFB 0,0,0,0,0,0,0,0,71
		DEFB 3,3,3,3,6,6,6,6,71
		DEFB 12,12,12,8,24,56,48,112,71
		DEFB 240,112,112,96,96,96,96,192,70
		DEFB 192,192,128,128,128,128,0,0,7
		DEFB 0,0,0,0,0,0,0,0,71
		DEFB 0,0,0,0,0,36,82,41,7
		
		